<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planeja SJC</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/l1.png') }}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Poppins">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins&display=swap"
        rel="stylesheet">
</head>

<body class="antialiased text-gray-800">

    <nav class="navbar-custom">
        <a class="brand-animate" href="{{ url_for('index') }}">
            <img src="{{ url_for('static', filename='images/l6.png') }}" alt="Logo" style="height: 55px;">
        </a>

        <div id="menuDesktop">
            <ul class="nav">
                <li class="nav-item mx-2"><a class="nav-link-custom" href="{{ url_for('graficos') }}">Gr√°ficos</a></li>
                <li class="nav-item mx-2"><a class="nav-link-custom" href="{{ url_for('sobre') }}">Sobre</a></li>
            </ul>
        </div>

        <button id="btnMenuMobile" type="button" class="btn btn-outline"
            style="border: 1px solid rgba(255,255,255,0.5);">
            <div class="toggler-icon"></div>
        </button>

        <div id="menuMobile">
            <a class="d-block py-3 nav-link-custom text-center" href="{{ url_for('graficos') }}">Gr√°ficos</a>
            <a class="d-block py-3 nav-link-custom text-center" href="{{ url_for('sobre') }}">Sobre</a>
        </div>
    </nav>

    <main>
        <section class="imagem-cidade">
            <div id="meuCarrossel" class="carousel slide carousel-fade" data-ride="carousel">
                <div class="carousel-inner">

                    <div class="carousel-item active">
                        <img src="{{ url_for('static', filename='images/banner1.jpg') }}" class="d-block carousel-img-fit">
                    </div>

                    <div class="carousel-item">
                        <img src="{{ url_for('static', filename='images/banner2.jpg') }}" class="d-block carousel-img-fit">
                    </div>

                    <div class="carousel-item">
                        <img src="{{ url_for('static', filename='images/banner3.jpg') }}" class="d-block carousel-img-fit">
                    </div>

                </div>

                <a class="carousel-control-prev" href="#meuCarrossel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Anterior</span>
                </a>

                <a class="carousel-control-next" href="#meuCarrossel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Pr√≥ximo</span>
                </a>

            </div>
        </section>

        <!--Sum√°rio-->
        <section class="sumario text-center mb-5">
            <h2 id="titulo-sumario"> Vis√£o Geral dos Temas</h2>
            <nav>
                <a href="#escolaridade" style="border-right: 1px solid white;"> Escolaridade </a>
                <a href="#longevidade"> Longevidade </a>
                <a href="#regiaooeste" style="border-left: 1px solid white;"> Regi√£o Oeste</a>
            </nav>
        </section>

        <!--Gr√°ficos principais-->
        <section id="escolaridade" class="section-card mx-5">
            <h2>Escolaridade</h2>
            <div class="flex-container">
                <div class="chart-container">
                    <figure> 
                        <img src="{{ url_for('static', filename='images/escola.jpg') }}" alt="Foto Escola">
                        <figurecaption> 
                            Fonte: <a href="https://www.sjc.sp.gov.br/galerias/2025/mobilidade-urbana/acao-educamob-no-cedin-zilda-arns-e-linha-verde " class="font-imagem"> Prefeitura de S√£o Jos√© dos Campos</a>
                        </figurecaption>
                    </figure>
                </div>
                <div class="texto-e-botao-container">
                    <p> Escolaridade refere-se ao n√≠vel de instru√ß√£o formal que uma pessoa alcan√ßou, como ensino
                        fundamental, m√©dio,superior ou p√≥s-gradua√ß√£o. Ela indica o percurso educacional de um
                        indiv√≠duo e ajuda a compreender seu grau de forma√ß√£o e conhecimento acad√™mico.</p>
                    <button class="button" data-toggle="modal" data-target="#myModal1" style="vertical-align:middle">
                        <span> Ver mais</span>
                    </button>
                </div>
            </div>
        </section>

        <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="modalTitle1"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-chart" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle1">Mais Informa√ß√µes</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="chart-container mb-3">
                            <iframe id="chart3-modal" src=""></iframe>
                        </div>
                        <p>O gr√°fico ilustra a distribui√ß√£o da popula√ß√£o por bairros e regi√µes de S√£o Jos√© dos
                            Campos, oferecendo uma vis√£o clara e detalhada sobre a demografia local.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>

        <section id="longevidade" class="section-card mx-5">
            <h2>Longevidade</h2>
            <div class="flex-container">
                <div class="chart-container">
                    <figure> 
                        <img src="{{ url_for('static', filename='images/idosos.jpg') }}" alt="Foto Escola">
                        <figurecaption> 
                            Fonte: <a href="https://www.sjc.sp.gov.br/galerias/2025/apoio-social-ao-cidadao/torneio-recreativo-de-jogos-adaptados-nas-casas-do-idoso" class="font-imagem"> Prefeitura de S√£o Jos√© dos Campos</a>
                        </figurecaption>
                    </figure>
                </div>
                <div class="texto-e-botao-container">
                    <p> Longevidade refere-se ao aumento da propor√ß√£o de pessoas idosas na popula√ß√£o ao longo do tempo,
                        indicando mudan√ßas na estrutura et√°ria e revelando tend√™ncias importantes sobre longevidade e
                        demandas
                        sociais</p>
                    <button class="button" data-toggle="modal" data-target="#myModal2" style="vertical-align:middle">
                        <span> Ver mais</span>
                    </button>
                </div>
            </div>
        </section>

        <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="modalTitle2"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-chart" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle2">Mais Informa√ß√µes</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="chart-container mb-3">
                            <p>A longevidade em SJC tem aumentado, refletindo melhores condi√ß√µes de vida e sa√∫de.
                                A popula√ß√£o vive mais e envelhece de forma cont√≠nua, mostrando um avan√ßo no bem-estar do
                                munic√≠pio.
                            </p>
                            <iframe id="chart4-modal" src=""></iframe>
                        </div>
                        <p>O gr√°fico de faixa et√°ria mostra como a popula√ß√£o se distribui entre jovens, adultos e
                            idosos.
                            Ele revela quais grupos s√£o mais numerosos e ajuda a entender o perfil demogr√°fico da
                            cidade.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>

        <section id="regiaooeste" class="section-card mx-5">
            <h2>Regi√£o Oeste</h2>
            <div class="flex-container">
                <div class="chart-container">
                    <figure> 
                        <img src="{{ url_for('static', filename='images/oeste2.jpg') }}" alt="Foto Escola">
                        <figurecaption> 
                            Fonte: <a href="https://www.sjc.sp.gov.br/galerias/2018/manutencao-da-cidade/apos-revitalizacao-praca-do-torii-recebe-comemoracao-dos-110-anos-da-imigracao-japonesa-no-brasil" class="font-imagem"> Prefeitura de S√£o Jos√© dos Campos</a>
                        </figurecaption>
                    </figure>
                </div>
                <div class="texto-e-botao-container">
                    <p> A regi√£o Oeste de S√£o Jos√© dos Campos caracteriza-se por ser uma √°rea em expans√£o urbana,
                        com bairros residenciais consolidados e crescente oferta de servi√ßos, com√©rcio e infraestrutura.
                        √â uma das regi√µes mais din√¢micas da cidade, marcada por desenvolvimento cont√≠nuo e aumento
                        populacional</p>
                    <button class="button" data-toggle="modal" data-target="#myModal3" style="vertical-align:middle">
                        <span> Ver mais</span>
                    </button>
                </div>
            </div>
        </section>

        <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="modalTitle3"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-chart modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitle3">Mais Informa√ß√µes</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <div class="modal-body px-4 py-4">
                        <h2 class="text-center font-weight-bold mb-4" style="color: #152887;">
                            An√°lise Populacional: Oeste vs. Sul
                        </h2>

                        
                        <div class="grafico-container">
                            <div class="chart-container mb-2 shadow-sm border rounded" style="overflow: hidden;">
                                <iframe id="chart6-modal" src=""
                                    style="width: 100%; min-height: 300px; border: 0;"></iframe>
                            </div>
                        </div>

                        <p class="small text-muted text-center font-italic mb-4">
                            Fonte: Censo 2022 (Popula√ß√£o e Domic√≠lios - Primeiros resultados)
                        </p>
                        <p class="text-justify text-secondary">
                            A an√°lise dos dados do Censo 2022 revela dois cen√°rios urbanos distintos dentro do mesmo
                            munic√≠pio. Enquanto uma regi√£o experimenta uma expans√£o acelerada e seus consequentes
                            desafios estruturais, a outra demonstra um comportamento de consolida√ß√£o e maturidade
                            urbana.
                        </p>
                        <hr class="my-4">
                        <div class="mb-4">
                            <h3 class="font-weight-bold border-bottom pb-2 mb-3" style="color: #152887;">
                                üìç Regi√£o Oeste: Desenvolvimento e Desafios
                            </h3>
                            <p class="text-justify">
                                A regi√£o Oeste consolidou-se como o <strong>principal vetor de expans√£o
                                imobili√°ria</strong>. Entre os √∫ltimos censos, esta √°rea passou de 41.161 habitantes
                                (2010) para <strong>64.482 (2022)</strong>, um acr√©scimo absoluto de 23.321 pessoas.
                                Isso representa aproximadamente <strong>56%</strong> de todo o crescimento populacional
                                do munic√≠pio.
                            </p>

                            <h5 class="font-weight-bold mt-3">Impactos Econ√¥micos Positivos:</h5>
                            <ul class="mb-2">
                                <li class="mb-2 text-justify" style="padding: 20px;">
                                    <strong>‚Ä¢ Mercado de Trabalho e Servi√ßos:</strong> O aumento de
                                    residentes criou
                                    demanda por novos com√©rcios,
                                    escolas e servi√ßos, impulsionando a gera√ß√£o de empregos.
                                </li>
                                <li class="mb-2" style="padding-left: 20px;">
                                    <strong>‚Ä¢ Valoriza√ß√£o Imobili√°ria:</strong> A alta procura pressionou a valoriza√ß√£o do
                                    metro quadrado, aquecendo o setor de constru√ß√£o civil.
                                </li>
                            </ul>

                            <h5 class="font-weight-bold mt-3">Desafios de Infraestrutura:</h5>
                            <ul class="mb-2">
                                <li class="mb-2" style="padding-left: 20px;">
                                    <strong>‚Ä¢ Mobilidade Urbana:</strong> As principais vias enfrentam agora
                                    congestionamentos cr√¥nicos nos hor√°rios de pico.
                                </li>
                                <li class="mb-2" style="padding-left: 20px;">
                                    <strong>‚Ä¢ Transporte P√∫blico:</strong> Press√£o imediata sobre o sistema, exigindo
                                    revis√£o de itiner√°rios e aumento de frequ√™ncia.
                                </li>
                            </ul>
                        </div>

                        <div class="mb-3">
                            <h3 class="font-weight-bold border-bottom pb-2 mb-3" style="color: #152887;">
                                üìç Zona Sul: Estabilidade Demogr√°fica
                            </h3>
                            <p class="text-justify">
                                A Zona Sul manteve-se como a √°rea mais populosa, passando de 233.536 para
                                <strong>237.572 habitantes</strong> ‚Äî um aumento discreto de 1,73%. Esse cen√°rio indica
                                bairros j√° consolidados e estoque habitacional estabilizado.
                            </p>

                            <h5 class="font-weight-bold mt-3">An√°lise do Ritmo Discreto:</h5>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item px-0 py-2 border-0">
                                    <strong>‚Ä¢ Ocupa√ß√£o Consolidada:</strong> Diferente do Oeste, a regi√£o Sul j√° possui
                                    uma malha urbana densa, com poucos vazios urbanos para novos loteamentos.
                                </li>
                                <li class="list-group-item px-0 py-2 border-0">
                                    <strong>‚Ä¢ Infraestrutura Equilibrada:</strong> O ritmo lento de crescimento permite
                                    que os servi√ßos p√∫blicos absorvam os novos moradores sem choques de demanda.
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="text-white py-3 px-4 d-flex justify-content-between align-items-center mt-5 font-weight-bold"
        style="background-color: #152887;">
        <div style="width: 32px;"></div>
        <span>¬© 2025 Omnidevs, Todos os direitos reservados &copy;</span>
        <a href="https://github.com/OmniDevsOficial/API-Censo-2022/tree/main" target="_blank">
            <img src="{{ url_for('static', filename='images/github.png') }}" alt="Github" class="mb-1"
                style="width: 32px;">
        </a>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- L√ìGICA DO SEU NOVO BOT√ÉO TOGGLE ---
            const btn = document.getElementById('btnMenuMobile');
            const menu = document.getElementById('menuMobile');

            if (btn && menu) {
                btn.addEventListener('click', () => {
                    menu.classList.toggle('open');
                });
            }

            // --- SEU C√ìDIGO DE GR√ÅFICOS ORIGINAL ---
            // (Mantive exatamente o mesmo comportamento para carregar os gr√°ficos)
            const regionData = {
                'sjc': {
                    name: 'S√£o Jos√© dos Campos',
                    charts: [
                        { id: 'chart1', title: 'Pir√¢mide Et√°ria 2010', tipo: 'piramide_2010' },
                        { id: 'chart3', title: 'Popula√ß√£o por Regi√£o', tipo: 'populacao' },
                        { id: 'chart2', title: 'Pir√¢mide Et√°ria 2022', tipo: 'piramide_2022' },
                        { id: 'chart4', title: 'Taxa de Crescimento', tipo: 'taxa_crescimento' },
                        { id: 'chart6', title: 'Oeste X Sul', tipo: 'oeste_sul' }
                    ]
                },
                'Norte': {
                    name: 'Regi√£o Norte',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Norte', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Norte', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'Sul': {
                    name: 'Regi√£o Sul',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Sul', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Sul', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'Leste': {
                    name: 'Regi√£o Leste',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Leste', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Leste', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'Oeste': {
                    name: 'Regi√£o Oeste',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Oeste', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Oeste', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'Centro': {
                    name: 'Regi√£o Centro',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Centro', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Centro', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'Sudeste': {
                    name: 'Regi√£o Sudeste',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o da Regi√£o Sudeste', tipo: 'populacao' },
                        { id: 'chart2', title: 'Popula√ß√£o por Bairro - Sudeste', tipo: 'populacao_bairro' },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                },
                'S√£o Francisco Xavier': {
                    name: 'S√£o Francisco Xavier',
                    charts: [
                        { id: 'chart1', title: 'Popula√ß√£o - S√£o Francisco Xavier', tipo: 'populacao_bairro' },
                        { id: 'chart2', title: 'Gr√°fico 2', tipo: null },
                        { id: 'chart3', title: 'Gr√°fico 3', tipo: null },
                        { id: 'chart4', title: 'Gr√°fico 4', tipo: null }
                    ]
                }
            };

            function updateDashboard(regionKey) {
                const data = regionData[regionKey];
                if (!data) return;

                data.charts.forEach(chart => {
                    const iframeMain = document.getElementById(chart.id + '-main');
                    const iframeModal = document.getElementById(chart.id + '-modal');
                    let newSrc = chart.tipo ? `/grafico/${regionKey}/${chart.tipo}` : '';

                    if (iframeMain) iframeMain.src = newSrc;
                    if (iframeModal) iframeModal.src = newSrc;
                });
            }

            updateDashboard('sjc');
        });
    </script>

</body>

</html>